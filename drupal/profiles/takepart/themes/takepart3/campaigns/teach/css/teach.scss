@import "compass/css3";
@import "compass/utilities/general/clearfix";

@import "typeface";

@import url(http://fonts.googleapis.com/css?family=Shadows+Into+Light);

$page-width: 1000px;
$page-margins: 20px;
$content-width: $page-width - $page-margins;

$primary-color: #ea5f11;
$primary-grey: #666;
$dark-grey: #777;

$primary-font: Helvetica,Arial,sans-serif;
$secondary-font: 'GlyphaLTPro-Black', serif;
$third-font: 'OpenSans_Condensed', sans-serif;
$cursive-font: 'Shadows Into Light', cursive;

$primary-white: white;
$light-white: #ccc;
$body-copy-black: #313131;


@import url(//fonts.googleapis.com/css?family=Shadows+Into+Light);
// font-family: 'Shadows Into Light', cursive;

/* # General
================================================== */
#page-wrapper {
  max-width: $page-width;
  background-color: white;
  margin: 0 auto;
}

#main {
  overflow: hidden;

  p, ul {
    font: normal 14px/1.714285714 $primary-font;
    margin: 0 0 1em;
  }

  ul {
    li {
      margin-left: 1em;
      text-indent: -1em;
    }
  }

}

.page-wrap {
  width: auto;
  padding: 10px;
  -webkit-font-smoothing: antialiased;

  .main {
    background: image-url('blackboard.jpg');
  }

  .page-header,
  .content-header {
    font: normal 100px $secondary-font;
  }

}

.right { float: right; }
.left { float: left; }
.text-right { text-align: right; }


/* # Header
================================================== */
.header {
  font-family: $third-font;
  padding: $page-margins;
  position: relative;
  min-height: 225px;
  color: $primary-white;
  background: image-url('hero-background.jpg');
  clear: both;
  zoom: 1;

  .page-header {
    color: white;
    background-color: $primary-color;
    padding: .25em .277777778em;
    width: 265px;
    margin-left: -$page-margins;
    font: normal 72px/.694444444 $secondary-font;
    font-family: $secondary-font;
  }

  .hero {
    position: absolute;
    bottom: 0;
    right: 20px;
    margin-bottom: 50px;
    z-index: 6;
  }

  .slug {
    display: block;
    font: normal 16px/2 $primary-font;
  }

  .credit {
    display: none; // hidden in current comps
    font-size: 24px;
    margin-top: 5px;
    margin-bottom: 5px;
    width: 300px;
  }

  .burst {
    margin-top: .25em;
  }

  .burst,
  .date {
    display: block;
    font-size: 22px;
    span {
      display: inline-block;
      vertical-align: text-top;
    }
  }
  .logos {
    display: inline-block;
    vertical-align: bottom;
  }

  .fine {
    display: none; // not in the current comp
    font-size: 13px;
    color: $light-white;
    position: absolute;
    margin-bottom: 60px;
    bottom: 0;
    z-index: 10;
    left: $page-margins;
    right: $page-margins;
    @include text-shadow(0 0 3px black);
    .right { 
      color: white;
    }
  } 

  .campaign-social-share {
    @include inline-block;
    position: absolute; 
    bottom: 0;
    right: 40px;
    padding: .5em 1em .5em 1.25em;
    margin-bottom: 50px;
    background-color: white;
    font: normal 16px/1.49 $secondary-font;
    text-transform: uppercase;
    color: black;
    z-index: 10;
  }


  /* menu */
  .menu-wrapper {
    font: normal 17px/100% $secondary-font;
    padding: 5px; 
    background: image-url('orange_felt.png');
    @include border-radius(5px);
    position: absolute;
    bottom: 0;
    left: $page-margins;
    right: $page-margins;
    .menu {
      border: 1px dashed #ECBE84;
      list-style: none;
      text-align: center;
      overflow: visible;
      height: 39px;
      .item {
        margin: 0 0 0 .8em;
        padding: 0;
        overflow: visible;
        @include inline-block;
        a {
          @include inline-block;
          padding: 8px 0;
          text-align: center;
          color: $primary-white;
          text-transform: uppercase;
          text-shadow: 0 -1px 2px #A84300;
          @include transition-property(color);
          @include transition-duration(0.15s);
          @include transition-timing-function(ease-in-out);
          &:hover,
          &:focus {
            text-decoration: none;
            color: black;
          }
        }
        &:first-of-type {
          margin: 0;
          height: 43px;
          a {
            background: transparent image-url("menu-home.png") no-repeat scroll top left;
            background-size: 21px;
            height: 0;
            width: 0;
            overflow: hidden;
            padding: 21px 21px 0 0;
            margin: 7px;
          }
          &.active {
            margin-top: 0;
            a {
              margin: 7px;
              padding: 21px 21px 0 0;
              background-position: 0 -21px;
            }
          }
        }
        &.active {
          background: image-url('active_menu_bg.png') no-repeat top right;
          margin-top: -3px;
          height: 43px;
          a {
            padding: 16px 10px 0;
            text-shadow: none;
            color: black;
          }
        }
      }
    }
  }
}


/* # Content
================================================== */
p {
  color: $body-copy-black;
  -webkit-font-smoothing: antialiased;
}

a {
  color: $primary-color;
}

#page {
  padding: $page-margins;
  background: none;
  display: block;
}

/* # Home Page
================================================== */
.page-wordlet-teach-home {

  #page {
    display: block;
  }

  .page-body-content {
    @include clearfix;
    padding: $page-margins;
    background-color: #D4D4D4;
    @include background(linear-gradient(-89deg, #FFFFFF 0%, #DBDBDB 90%, #B1A99A));
    @include box-shadow(0 0 6px 4px #A79B84 inset);
    position: relative;
  }
} // .page-wordlet-teach-home

.home-section {
  .image-wrapper {
    padding: 4px;
    background-color: white;
    @include box-shadow(0 0 4px transparentize(black, .4));
    @include transform(scale(1.1));
    img {
      display: block;
      width: 100% !important;
      height: auto !important;
    }
  }

  &:nth-of-type(2) {
    .image-wrapper {
      @include transform(rotate(-2deg) scale(1.1));
    }
  }
  &:last-of-type {
    .image-wrapper {
      @include transform(rotate(1deg) scale(1.1));
    }
  }
  
  .headline {
    font: normal 2em/1.5 $secondary-font;
    color: #555;
    margin-top: 1em;
    text-transform: uppercase;
  }
  .body {
      line-height: 1.5;
    a {
      font-family: $secondary-font;
      text-transform: uppercase;
      &:after {
        content: "\0020\00BB";
        display: inline;
      }
    }
  }
} // .home-section

.teach-home-featured-articles {
  position: relative;
  background: #809d96 none;
  padding: 0 10px 10px;
  margin: 1em auto;

  @media (min-width: 768px) {
    &:before {
      content: ' ';
      display: block;
      position: absolute;
      top: 0;
      bottom: 0;
      left: 0;
      right: 0;
      background: transparent image-url("teach-home-featured-bg.jpg") scroll no-repeat top center;
      background-size: cover;
    }
  }

  h2 {
    text-align: center;
    font: normal 2em/1 $secondary-font;
    text-transform: uppercase;
    background: transparent image-url("teach-home-featured-header-bg.png") scroll no-repeat top center;

    position: relative;
    top: -15px;

    span {
      display: block;
      @include transform(rotate(-2deg));
      padding: 1em 0;
    }
  }
  .secondary-feature {
    background: transparent none;
    margin: 0;
    padding: 0;
    overflow: visible;

    .views-row {
      @include box-sizing(border-box);
      background: transparent none;
      float: none;
      width: auto;
      height: auto;
      margin: 0;

      @media (min-width: 768px) {
        float: left;
        width: 33%;
        padding: 0 10px; 
        &:first-of-type { padding-left: 0; }
        &:last-of-type { padding-right: 0; }
      }

      img {
        @include box-sizing(border-box);
        display: block;
        background: white none;
        padding: 4px;
        @include box-shadow(0 0 4px transparentize(black, 0.4));
        width: 100% !important;
        height: auto !important;
        @include transform(rotate(-0.5deg));
      }
    }
    .views-field-php {
      font: normal 1em/1.5 $primary-font;
      margin: 1em 0;
      background: transparent none;

      .field-content {
        padding: 0;
      }

      a {
        font: normal 1.166666667em/1.285714286 $primary-font; 
        color: white;
        position: relative;

        &:after {
          content: "\0020\00BB";
          display: inline;
        }

        &:hover {
          color: $primary-color;
        }
      }
    }
  } // .secondary-feature
  .more-news {
    position: relative;
    text-align: center;

    a {
      font: normal 1.166666667em/1 $secondary-font;
      text-transform: uppercase;
      color: white;

      &:after {
        content: "\0020\00BB";
        display: inline;
        color: $primary-color;
      }
    }

    @media (min-width: 768px) {
      position: absolute;
      top: 20px;
      right: 10px;
    }
  }
} // .teach-home-featured-articles

/* # Common elements for some interior pages
*/

.teach-watch-promo {
  background: image-url('teach-watch-bg.png') no-repeat;
  margin: -10px auto 0;
  clear: both;
  width: 840px;
  height: 200px;

  .teach-watch-promo-content {
    width: 770px;
    padding: 40px 0 $page-margins 0;
    margin: 0 auto;
  }


  .sect-headline {
    font: normal 23px/90% $secondary-font;
    margin: 0 0 $page-margins;
  }
  ul {
    list-style: none;
    margin: 0;
    padding: 0;
  }
  li {
    width: 49%;
    &:nth-child(even) {
      float: right;
    }
    @include inline-block;
    a {
      @include inline-block;
      font-size: 1.3em;
      color: $primary-color;
      span {
        @include inline-block;
        width: 46%;
        margin-top: 1%;
        line-height: 120%;
        &:before {
          content: '\00BB';
          color: $primary-grey;
          margin-left: -2ex;
          margin-right: 6px;
        }
      }
    }
    .media-logo {
      float: left;
      margin: 0 7% 0 0;
      width: 47%;
    }
  }

  @media (max-width: 1000px) {
    width: 100%;
    background-size: 100%;
    margin-top: 10px;
    .sect-headline {
      margin: 0px 0 0 1%;
    }
    .teach-watch-promo-content {
      width: 90%;
      margin: 0 auto;
      padding: 6% 0 $page-margins 0;
    }
  }


  @media (max-width: 600px) {
    background-size: 100% 85%;
    .teach-watch-promo-content {
      width: 95%;
      margin: 0 auto;
      padding: 6% 0 $page-margins 0;
    }
    .sect-headline {
      font-size: 19px;
      text-align: center;
      margin: 20px 0 7px;
    }
    li {
      width: 42%;
      a {
        display: block;
        clear: both;
        width: 100%;
        .media-logo {
          width: 100%;
          height: auto;
        }
        span {
          width: 100%;
          display: block;
          text-align: center;
          font-size: 14px;
          &:before {
            content: '';
          }
        }
      }
    }
  }
}

.teach-video-page,
.page-wordlet-teach-alliances .content,
.teach-news-content,
.teach-sys-content,
.teach-film-content,
.teach-fund-about-content {
  position: relative;
  background: #ecedf6 image-url('paper-background-texture-temp.jpg') scroll repeat;
  margin-top: 30px;
  @include box-shadow(inset 0 0 40px rgba(0,0,0,0.2));
  @media (min-width: 481px) {
    margin-top: 0;
    padding: 20px;
  }
  .content-headline {
    font-family: $secondary-font;
    font-weight: normal;
    font-size: 42px;
    line-height: 1;
    text-transform: uppercase;
    max-width: 740px;
    margin: 10px 20px 0;
    @media (max-width: 480px) {
      font-size: 30px;
      margin: 10px;
    }
  }
  .content-subheadline {
    font-weight: normal;
    color: #666565;
    font-size: 16px;
    line-height: 1.25;
    margin: 10px 20px 0;
    max-width: 400px;
  }
  .main-video-wrapper {
    clear: right;
    max-width: 859px;
    padding: 4px;
    margin: 0 auto 2em;
    background-color: white;
    @include box-shadow(0 0 6px black);
    position: relative;
    z-index: 2;
    @media (max-width: 480px) {
      @include scale(1.02);
    }
  }
  .ad {
    width: 728px;
    height: 90px;
    background-color: white;
    padding: 4px;
    @include box-shadow(0 0 4px rgba(0,0,0,.65));
    margin: 1em auto 0;
    @media (max-width: 819px) {
      display: none;
    }
  }
} // .teach-video-page, .page-wordlet-teach-alliances .content, .teach-news-content

// Common style for a headline
// with a label graphic behind it
.teach-video-page .content-preheader,
.teach-video-page .col-headline,
.label-headline {
  font-family: $secondary-font;
  font-weight: normal;
  margin: -0.5em 0 1em;
  padding: 5px 0 0 15px;
  font-size: 40px;
  line-height: 1.375;
  text-transform: uppercase;
  background: transparent image-url('video-page-label-background.png') no-repeat scroll top left;
  @include rotate(-4deg);
  @media (max-width:480px) {
    display: none;
  }
}

// common style for peek-a-boo element
// behind the video player
.peek-a-boo {
  text-align: center;
  position: absolute;
  top: -30px;
  width: 100%;
  @media (min-width: 481px) {
    width: 290px;
    top: auto;
    position: relative;
    z-index: 1;
    margin: 1em 25px 0 auto;
    margin-right: 25px;
    float: right;
    background: transparent image-url('paper-peek-a-boo.png') no-repeat scroll top right;
    padding: 10px 0;
    @include box-shadow(0 0 4px black);
  }
  @media (min-width: 800px) {
    margin-top: -2em;
  }
  p {
    margin: 0;
  }
  a {
    color: white;
    font: normal normal 17px/1 $secondary-font, serif;
    .fb {
      display: inline-block; *display: inline; *zoom: 1;
      vertical-align: top;
      width: 24px;
      height: 22px;
        background-image: image-url('social-facebook-white-small.png');
    }
    @media (min-width: 481px) {
      color: black;
      .fb {
        background: transparent image-url('social-facebook.png');
      }
    }
  }
}

.scribble-share {
  @include inline-block;
  margin: 0;
  padding: 0;
  li,
  span {
    @include inline-block;
    vertical-align: text-top;
  }
  a {
    display: inline-block;
    vertical-align: bottom;
    height: 0;
    width: 0;
    text-indent: 12px;
    overflow: hidden;
    padding: 12px;
    margin-left: 6px;
    background: transparent image-url("social-scribbles.png") top left;
    background-size: 24px;
    &.facebook,
    &.tp-social-facebook {
      background-position: 0 0;
    }
    &.twitter,
    &.tp-social-twitter {
      background-position: 0 -24px;
    }
    &.googleplus,
    &.tp-social-googleplus {
      background-position: 0 -48px;
    }
  }

  &.large {
    a {
      text-indent: 24px;
      padding: 24px;
      margin-left: 12px;
      background-size: 48px;
      &.facebook,
      &.tp-social-facebook {
        background-position: 0 0;
      }
      &.twitter,
      &.tp-social-twitter {
        background-position: 0 -48px;
      }
      &.googleplus,
      &.tp-social-googleplus {
        background-position: 0 -96px;
      }
    }
  }
}

// social menu module
.social-menu {
  clear: both;
  text-align: center;
  @media (max-width: 480px) {
    background-color: black;
    padding: 20px;
  }
  @media (min-width: 940px) {
    background: transparent image-url('video-page-social-block-bg.png') scroll no-repeat top center;
    min-height: 269px;
    max-width: 848px;
    margin: 0 auto;
    padding: 20px 40px 0;
  }
  .sect-headline {
    font: normal 2.333333333em/1 $secondary-font;
    text-transform: uppercase;
    text-align: center;
    color: white;
    margin-bottom: .642857143em;
    @media (min-width: 481px) {
      color: black;
    }
  }
  .item {
    font-size: 11.5px;
    line-height: 1;
    vertical-align: middle;
    color: black;
    margin-bottom: 1.5em;
    @media (max-width: 480px) {
      color: white;
    }
    @media (min-width: 848px) {
      display: inline-block; *display: inline; *zoom: 1;
      @include box-sizing(border-box);
      margin: 0;
      width: 33%;
      &.connected {
        padding: 0 10px;
      }
    }
    p { //override
      font-size: 11.5px;
      line-height: 1;
      color: black;
      @media (max-width: 480px) {
        color: white;        
      }
    }
    .sect-headline {
      font-family: $secondary-font;
      font-weight: normal;
      font-size: 18px;
      line-height: 1;
      color: $primary-color;
      margin-bottom: .15em;
      strong {
        color: black;
        font-weight: normal;
        @media (max-width: 480px) {
          color: white;
        }
      }
    }
    // form styling
    #newsletter-campaign-email-only-signup-form {
      width: 217px;
      margin: 0 auto;
      position: relative;
      label { display: none;}
      input[name="email"] {
        background: transparent image-url('text-field-small.png');
        border: 0;
        width: 217px;
        height: 30px;
        margin: 0 auto;
        padding: 0 10px;
      }        
      .form-actions {
        position: absolute;
        top: 4px;
        right: -2px;
        margin: 0;
        input[type="submit"] {
          cursor: pointer;
          -webkit-appearance: none;
          border: none;
          background-color: black;
          font: normal normal 12px/1.2 $secondary-font, serif;
          color: white;
          text-transform: uppercase;
          width: 57px;
        }
      }
      .messages.error {
        position: absolute;
        background: transparent none;
        padding: 0;
        margin: 0;
        border: none;
        font-size: 13px;
        color: red;
        bottom: 85%;
      }
    }
    // Icons for these social follows
    position: relative;
    &:before {
      display: block;
      content: '';
      position: absolute;
      bottom: 100%;
      left: 50%;
      background-color: transparent;
    }
    &.text {
      margin-top: 51px;
      &:before {
        background-image: image-url('social-phone.png');
        width: 37px;
        height: 51px;
        margin-left: -18px;
        @media (max-width: 480px) {
          background-image: image-url('social-phone-white.png');
        }
      }
    }
    &.connected {
    margin-top: 51px;
      &:before {
        background-image: image-url('social-envelopes.png');
        width: 46px;
        height: 51px;
        margin-left: -23px;
        @media (max-width: 480px) {
          background-image: image-url('social-envelopes-white.png');
        }
      }
    }
    &.follow {
      margin-top: 48px;
      &:before {
        background-image: image-url('social-follow.png');
        width: 50px;
        height: 48px;
        margin-left: -25px;
        @media (max-width: 480px) {
          background-image: image-url('social-follow-white.png');
        }
      }
    }
  } // .item
} // .social-menu

.in-progress {
  background: transparent image-url("spinner-black-white.gif") scroll no-repeat 96% center;
  background-size: auto 50%;
}

/* # Responsive Layout
================================================== */
@media (max-width: 1000px) {
  #page-wrapper {
    width: 100%;
  }

  .header {    
    .menu-wrapper {
      font-size: 14px;
    }
  }
}

@media (max-width: 900px) {
  .header {  
   .menu-wrapper {
      font-size: 13px;
    } 
  }
}

@media (min-width: 768px) and (max-width: 800px) {
  .header {  
   .menu-wrapper {
      font-size: 12px;
    } 
  }
}

@media (max-width: 767px) {
  #page-wrapper {
    overflow: hidden;
  }
  #page-wrapper, .page-wrap {
    padding: 0;
  }

  .header {
    overflow: hidden;
    padding: 0;
    text-align: center;
    background: none;
    font-size: 0;
    .slug {
      display: none;
    }
    .page-header {
      margin: .166666667em auto;
    }
    .burst,
    .date  {
      width: 300px;
      margin: 0 auto;
      text-align: left;
    }
    .credit {
      margin: .5em auto;
    }
    .hero {
      width: 100%;
      height: auto !important;
      position: static;
      margin: 0;
    }
    .fine {
      position: static;
      margin: 0px;
      text-align: center;
      width: 100%;
      .right {
        display: none;
      }
    }

    .campaign-social-share {
      position: static;
      bottom: auto;
      right: auto;
      margin: -40px 0 0;
    }

    .menu-wrapper {
      @include border-radius(0);
      position: static;
      font-size: 24px;
      .menu {
        border-left: none;
        border-right: none;
        height: auto;
        .item {
          display: block;
          margin: 0 auto;
          vertical-align: middle;
          a {
            width: auto;
            text-align: center;
          }
          &.active {
            background-position: center 3px;
            background-size: 420px 100%;
            height: auto;
          }
        }
      }
    } // .menu-wrapper
  }
}


/* # Film Page
================================================== */

.teach-film-page {
  .content-preheader {
    font-size: 38px;
  }
  .content-subheadline {
    max-width: 100%;
    margin: 1em 10px;
  }
  .sect-headline {
    font: normal 22px/1.25em $secondary-font;
    text-transform: uppercase;
  }
  p, li {
    font-size: 16px;
    line-height: 1.25em;
    margin: 1em 0;
  }
  .row {

    padding: 0 20px 20px;

    @media (min-width: 481px) {
      padding: 0;
    }

    @media (min-width: 768px) {
      .col-1-2 {
        padding: 20px;
        width: 33.3%;
        &:first-child {
          width: 66.6%;          
        }
      }
    }

  }

  ol {
    &:after {
      content: " ";
      display: block;
      clear: both;
    }
    counter-reset: li;
    li {
      list-style-type: none;
      position: relative;
      padding-left: 3em;
      &:before {
        content: counter(li);
        counter-increment: li;
        display: block;
        position: absolute;
        left: 0;
        font: normal 2.5em/1 $secondary-font;
        width: 1em;
      }
    }
  }

  .teach-watch-promo {
    @include box-sizing(border-box);
    background: transparent image-url("film-watch-bg.png") scroll no-repeat top center;
    background-size: contain;
    max-width: 285px;
    min-height: 384px;
    margin: 0 auto 2em;
    padding: 60px 50px 0;

    .teach-watch-promo-content {
      max-width: 100%;
      padding: 0;
    }
    .sect-headline {
      text-align: center;
    }
    li {
      display: block;
      width: 100%;
      a {
        display: block;
        text-align: center;
      }
      img {
        margin: 0;
        width: 100%;
      }
      span {
        display: block;
        clear: both;
        width: 100%;
        font-size: 13px;
        &:before {
          display: none;
        }
      }
    }
  }

  .screening-tips {
    clear: both;
    @include box-sizing(border-box);
    background: transparent image-url("post-it-bg.png") scroll no-repeat top center;
    background-size: contain;
    max-width: 300px;
    min-height: 312px;
    margin: 0 auto;
    padding: 5% 3.5% 0 5%;

    @include transform(rotate(5deg) scale(1.05));

    // clear paperclip
    &:before {
      content: " ";
      display: block;
      float: right;
      width: 37px;
      height: 87px;
    }
    .tips-header {
      font: bold 2.5em/1 $cursive-font;
      text-align: center;
    }
    li {
      margin-left: 1em;
      text-indent: -1em;
    }
  }

} // .teach-film-page


/* # Video Pages
================================================== */
.teach-video-page {
  .content-subheadline {
    @media (max-width:480px) {
      display: none;
    }
  }
  .columns-wrapper {
    @media (min-width: 768px) {
      width: 100%;
      float: left;
      margin: 0 30px;
    }
  }
  .content-column {
    @media (min-width: 768px) {
      width: 44.9%;
      margin-right: 5%;
      float: left;
      &.column-odd {
	clear: left;
      }
    }
    margin-bottom: 2em;
    .col-headline {
      margin: 0 0 .5em;
    }
    .col-content {
      font-size: 16px;
      line-height: 1.25;
      color: #444;
      @media (max-width:480px) {
        margin-left: 10px;
        margin-right: 10px;
      }
      p { // override
      	font-size: 16px;
      	line-height: 1.25;
      	color: #444;
      }
      strong {
	font-size: 18px;
      }
      ul {
	list-style-type: none;
	padding-left: .75em;
	li {
	  line-height: 1.25;
	  margin-bottom: 0.25em;
	  position: relative;
	  &:before {
	    content: '»';
	    position: absolute;
	    padding-right: 0.5em;
	    right: 100%;
	  }
	}
      }
      a {
      	color: $primary-color;
      }
    } // .col-content
  } // .content-column
  .social-footer {
    color: black;
    text-align: center;
    font: normal normal 22px/1 $secondary-font, serif;
    text-transform: uppercase;
    @media (max-width: 480px) {
      padding: 20px;
    }
  } // .social-footer
}

/* # Alliances Page
================================================== */
.page-wordlet-teach-alliances {
  .content {
    .main-image-wrapper {
      margin: 0.5em 20px;
      text-align: center;
      img {
        max-width: 100% !important;
        height: auto !important;
      }
    }
    .content-main,
    .alliances {
      -webkit-box-sizing: border-box;
      -moz-box-sizing: border-box;
      box-sizing: border-box;
      padding: 0 20px;
      width: 100%;
      float: left;
    }
    .alliance {
      -webkit-box-sizing: border-box;
      -moz-box-sizing: border-box;
      box-sizing: border-box;
      background: white none;
      @include box-shadow(0 0 6px rgba(0,0,0,0.6));
      text-align: center;
      overflow: hidden;
      padding: 10px;
      margin-bottom: 20px;
      @media (min-width: 321px) {
      	float: left;
      	width: 45%;
      	margin-right: 5%;
      	&.alliance-even {
      	  margin-right: 0;
      	}
      }
      @media (min-width: 769px) {
      	width: 22%;
      	margin-right: 4%;
      	&.alliance-nth-child-4n {
      	  margin-right: 0;
      	}
      }
      img {
      	max-width: 100% !important;
      	height: auto !important;
      	vertical-align: middle;
      }
    }
  }
}

/* # News Page
================================================== */

.teach-news-content {
  .content-subheadline {
    max-width: 100%;
  }
  .peek-a-boo {
    @media (min-width: 800px) {
      margin-top: -3em;
    }
  }
  .main-video-wrapper {
    margin-bottom: 20px;
  }
  .secondary-feature {
    background-color: transparent;
    .views-row {
      background-color: transparent;
      height: auto;
      float: left;
      width: 31%;
      margin: 20px 0 20px 2%;
      @media (max-width: 480px) {
        width: 90%;
        margin: 20px 5%;
        float: none;
      }
      img {
        box-sizing: border-box;
        width: 100%;
        height: auto !important;
        background-color: white;
        padding: 4px;
        @include box-shadow(0 0 6px rgba(0,0,0,.6));
      }
      .views-field-php {
        background-color: transparent;
        .field-content {
          padding: 0;
          font: normal normal 14px/1.25 $primary-font;
          text-align: center;
          a {
            color: #333;
            &:hover {
              color: $primary-color;
            }
          }
        }
      }
    }
  } // .secondary-feature
  .view-taxonomy-search-list {
    .views-row {
      padding-right: 20px;
      padding-left: 20px;
      border-bottom: 2px dotted lighten($primary-grey, 30%);
      @media (min-width: 481px) {
        padding-right: 0;
        padding-left: 0;
      }
      @media (max-width: 480px) {
        &:last-child {
          border-bottom: none;
        }
      }
      .views-field-type {
        text-transform: capitalize;
      }
      .views-field-url {
        .field-content {
          font-size: 18px;
          display: inline;
          a {
            display: inline;
            color: #333;
            font-weight: normal;
            &:hover {
              color: $primary-color;
            }
          }
          &:before {
            display: inline;
            content: "» ";
            color: $primary-color;
          }
        }
      }
    }
    .item-list {
      text-align: center;
    }
    ul.pager {
      float: none;
      display: inline-block; *display: inline; *zoom: 1;
      font-size: 14px;
      li {
        a {
          color: $primary-color;
        }
      }
    }
  } // .view-taxonomy-search-list
}

/* # All the grid we actually need 
================================================== */
@media (min-width: 768px) {
  .row {
    &:before,
    &:after {
      content: " ";
      display: table;
    }
    &:after {
      clear: both;
    }

    [class^=col-] {
      @include box-sizing(border-box);
      float: left;
      padding: 0 10px;

      // eliminate padding on first/last
      &.alpha, &:first-of-type {padding-left:  0;}
      &.omega, &:last-of-type  {padding-right: 0;}    
    }

    .col-1-1,
    .col-2-2,
    .col-3-3,
    .col-4-4 { width: 100%;  }
    .col-1-2,
    .col-2-4 { width: 50%;   }
    .col-1-3 { width: 33.3%; }
    .col-2-3 { width: 66.7%; }
    .col-1-4 { width: 25%;   }
    .col-3-4 { width: 75%;   }

  }

  .pull-right { float: right; }
  .pull-left  { float: left;  }
}


/* # Share Your Story Page
================================================== */

.teach-sys-content {
  font: normal 14px/1.5 $primary-font;

  padding: 20px;

  // GRID ADAPTATION
  // copying this min-width value from elsewhere in the stylesheet
  // where the hell does it come from? what does it mean?
  @media(min-width: 848px) {
    .col-1-2 {
      width: 45%;
      &:first-of-type { width: 55%; }
    }
  }

  // hide certain parts of the page initially
  &.initially-hidden {
    display: none;
  }

  // overridde the reset
  ul {
    margin: 0 0 1em 1em;
    li {
      padding-left: 1em;
      text-indent: -1em;
    }
  }
}

.sys-headline {
  font-family: $secondary-font;
  font-weight: normal;
  text-transform: uppercase;
}

h1.sys-headline {
  background: transparent image-url("sys-headline-bg.png") scroll no-repeat top left;
  font-size: 1.4em;
  padding: 1.8em 0 1em .5em;

  @media (min-width: 400px) {
    font-size: 1.642857143em;
    padding: 1.3em 0 1em .5em;
  }

  @media (min-width:850px) {
    font-size: 34px;
    padding: .67em 0 .75em .5em;  
  }

  .teach-sys-thanks-content & {
    background-image: image-url("teach-home-featured-header-bg.png");
    padding: 1.1em;

    @media (min-width:850px) {
      padding: .47em 0 .85em .5em;
    }
  }

  span {
    display: block;
    @include transform(rotate(-1.5deg));
  }
}

.sys-update {
  // TODO: MOBILE
  @media (min-width: 980px) {      
    background: transparent image-url("sys-bg-paper.png") scroll no-repeat top left;
    background-size: contain;
    min-height: 403px; // make sure we see the whole background image at desktop sizes
    padding: 56px 32px 40px 40px;
    @include transform(scale(1.1) translateX(17px) rotate(1deg));
    margin: 1em 0 3em;
  }

  h2 {
    @media (min-width: 980px) {
      margin: 0 1.5em .2em 1em;
    }
    font: normal 32px/1 $cursive-font;
    color: lighten(black, 40%); // this photoshop comp is literally the worst.
    span {
      display: block;
      &:nth-child(1) {
        text-align: left;
      }
      &:nth-child(2) {
        text-align: center;
        color: black;
        font: normal 1.5em/1 $secondary-font;
        &:before {
          display: inline-block;
          vertical-align: top;
          content: "$";
          font-size: .6em;
          line-height: 1;
        }
      }
      &:nth-child(3) {
        text-align: right;
        text-transform: lowercase;
      }
    }
  } // h2 -- can you believe it?
}

.sys-intro-body {
  p,
  ul {
    font-size: 13px;
    line-height: 1.5;
  }
}

.sys-tips {
  h2 {

    background: transparent image-url("sys-subhead-bg.png") scroll no-repeat top left;
    padding: 2.5em 0 2em .5em;
    font-size: 1em;
    line-height: 1;

    @media (min-width:480px) {
      padding: 1.4em 0 1em .5em;
      font-size: 1.142857143em;
      line-height: 2.1875;
    }
    @media (min-width:768px) {
      font-size: 1.285714286em;
      line-height: 1.666666667;
    }
    @media (min-width: 1000px) {
      font-size: 1.428571429em;
      line-height: 1.25;
    }
    span {
      display: block;
      @include transform(rotate(-1.5deg));
    }
  }

  li {
    margin-bottom: .65em;
  }
}

// here's a mixin for the input styling

@mixin sys-input-styling {
    font-family: $primary-font;
    @include box-sizing(border-box);
    @include border-radius(4px);
    border: 1px solid #ccc;
    @include box-shadow(-4px -4px #dddde3, -4px 4px #dddde3, 4px -4px #dddde3, 4px 4px #dddde3, inset 0 0 4px #999);
    background-color: white;
}
@mixin sys-input-error-styling {
  @include box-shadow(-4px -4px #D00, -4px 4px #D00, 4px -4px #D00, 4px 4px #D00, inset 0 0 4px #999);
  color: #d00;
}

// this is the form
.sys-form {
  color: $dark-grey;
  a { color: $primary-color; }
  p { color: $dark-grey; }
  strong { color: $primary-grey; }

  fieldset {
    border: none;
    padding: 0;
    margin: 0 0 1em;
  }

  legend {
    font-weight: bold;
    color: $primary-grey;
  }

  .field-wrapper {
    position: relative;
    margin-bottom: .75em;
  }

  input[type=checkbox] {
    position: absolute;
    top: 0;
    left: 0;
    opacity: 0;
    & ~ label.visible:before {
      content: "\0020";
      display: block;
      float: left;
      width: 1.333333333em;
      height: 1.333333333em;
      padding: .15em .25em .35em;
      margin-right: .25em;
      font-size: 1.5em;
      line-height: 1;
      text-align: center;
      @include sys-input-styling;
    }
    &.error ~ label.visible:before {
      @include sys-input-error-styling;
    }
    &:checked ~ label.visible:before {
      content: "\2713";
    }
  }

  label {
    font-weight: normal;
    display: none;
    &.visible { 
      display: inline;
      .vertically-center {
        display: inline-block;
        @media (min-width: 768px) {
          margin-top: 1.4em;
        }
      }
    }

    // these should always be in the context of a form wrapper
    // so they are positioned absolutely
    &.error {
      position: absolute;
      bottom: 100%;
      right: 0;
      z-index: 1;
      background-color: #D00;
      color: white;
      @include box-sizing(border-box);
      border: 2px solid white;      
      padding: 4px 1.5em;
      @include border-radius(5px);
      margin-bottom: 7px;

      &:before,
      &:after {
        top: 100%;
        border: solid transparent;
        content: "";
        height: 0;
        width: 0;
        position: absolute;
        pointer-events: none;
      }
      &:after { // white arrow border
        border-color: transparentize(#D00, 1);
        border-top-color: #d00;
        border-width: 6px;
        right: 27px;
      }
      &:before { // red arrow
        border-color: transparentize(white, 1);
        border-top-color: white;
        border-width: 8px;
        right: 25px;
      }
    }
  }

  .field-wrapper-terms-agree label.error {
    left: 0;
    right: auto;
    &:after {
      right: auto;
      left: 27px;
    }
    &:before {
      right: auto;
      left: 25px;
    }
  }

  input[type=text],
  input[type=email],
  textarea,
  .customSelect {
    @include sys-input-styling;
    // margin: 4px;
    width: 100%;
    font-size: 14px;
    line-height: 1.714285714; // 24px / 14px
    padding: 11px 13px;    
    margin-bottom: 0;
    &.error {
      @include sys-input-error-styling;
    }
    &[disabled] {
      background-color: #EEE;
    }
  }

  // customselect overrides
  .customSelect {
    margin: 0 auto .5em;
    &:after {
      display: block;
      content: "\25BC";
      float: right;
    }
    @media (min-width: 1000px) {
      margin: 0 0 0 .5em;
      width: 8em;
    }
  }
  select.error ~ .customSelect {
    @include sys-input-error-styling;
  }

  // position select-boxes
  select[name="story_year"].hasCustomSelect {
    right: 0;
  }

  // focus states
  input:focus,
  .customSelectFocus {
    outline: rgb(91, 157, 217) auto 5px;
    outline-offset: -2px;
  }

  .character-count {
    position: absolute;
    right: 0;
    bottom: 100%;
    margin: 0 0 4px;
    font-size: 11px;
    line-height: 1;
    &.hidden {
      visibility: hidden;
    }
    &.character-count-story-body {
      bottom: auto;
      top: 100%;
    }
    &.count-alert { color: orange; }
    &.count-warning { color: red; }
  }

  input.input-school-name[type=text] {
    @media (min-width: 1000px) {
      width: 362px;
    }
  }

  .sys-image {
    img {
      max-width: 100%;
      height: auto !important;
    }
  }

  .sys-image-content {
    display: block;
    @include sys-input-styling;
    background-color: #ddd;
    text-align: center;
    padding: 20px;
    // border: 2px dashed black; // replace when we get drag-and-drop working
    margin-top: 1em;
    p {
      line-height: 1;
    }
    .error {
      @include sys-input-error-styling;
    }
  }

  .sys-upload-buttons {
    span {
      display: inline-block;
      padding: .25em .5em;
      color: white;
      background-color: #333;
      font-family: $secondary-font;
      text-transform: uppercase;
      margin-left: .25em;
      margin-bottom: .25em;
      &:first-child {
	margin-left: 0;
      }
    }
  }

  input[type="file"] {
    @include opacity(0);
  }

  input[type="button"],
  input[type="submit"] {
    @include box-sizing(border-box);
    margin-bottom: .535714286em;
    padding: .6em 1em .4em;
    background-color: $dark-grey;
    border: none;
    color: white;
    text-align: center;
    font: normal normal 1.4em/1.25 $secondary-font;
    text-transform: uppercase;
    white-space: normal;
    -webkit-appearance: none;
    &:active { position: relative; top: 1px; }
  }
  input[type="submit"] {
    background-color: $primary-color;
    margin-bottom: 0;
    &.in-progress {
      background-image: image-url("spinner-white-orange.gif");
      background-size: auto 40%;
      background-position: 95% center;
    }
  }

  // utility classes for positioning, listed here
  // so they will come last in the cascade

  .left, .right { float: none; }
  @media (min-width: 768px) {
    .left,
    .right {
      display: inline-block;
      vertical-align: top;
      width: 47.4%;
    }
    .right {
      margin-left: 3.9%;
    }
  } 
}


// lock down the height of the autocomplete
.page-wordlet-teach-share-your-story {
  .ui-autocomplete {
    max-height: 12em;
    overflow-x: hidden;
    overflow-y: scroll;
  }
}

// story preview modal
.tpmodal_modal.sys_modal_modal {
  background: transparent none !important;
}

.tpmodal_close.sys_modal_close {
  background: transparent none !important;
  height: auto !important;
  width: auto !important;
  top: -5px !important;
  color: white;
  font-family: $secondary-font;
  text-transform: uppercase;
  padding-right: 30px;
  text-indent: 0;

  &:before {
    display: inline;
    content: "\00d7\0020";
    font-size: 1.5em;
    line-height: .667;
  }
}

.sys-thanks-social-share {
  background: transparent image-url("sys-thanks-paper-small.png") scroll no-repeat top center;
  background-size: contain;
  position: relative;
  @include box-sizing(border-box);
  width: 100%;
  max-width: 265px;
  min-height: 317px;
  margin: 25px auto 0;
  padding: 9% 2.5%;
  text-align: center;

  &:before {
    content: " ";
    display: block;
    position: absolute;
    top: -25px;
    left: 50%;
    margin-left: -80px;
    width: 159px;
    height: 50px;
    background: transparent image-url("sys-thanks-tape.png") scroll no-repeat center center;
  }

  @media (min-width: 768px) {
    background-image: image-url("sys-thanks-paper-large.png");
    min-height: 154px;
    max-width: none;
    padding: 5% 6%;

    .col-2-3 {
      text-align: left;
    }
  }


  h3 {
    font: normal 1.5em/1.25 $secondary-font;
    text-transform: uppercase;

    @media (min-width: 768px) and (max-width: 979px) {
      font-size: 1.15em;
    }
  }
}

.sys-story-modal {
  // clearfix
  &:after {
    content: " ";
    display: block;
    clear: both;
  }
  @include box-sizing(border-box);
  background-color: white;
  padding: 20px;
  width: 100%;
  min-height: 317px;
  max-width: 800px;
  margin: 0 auto;

  h2,
  h3 {
    font-family: $secondary-font;
    text-transform: uppercase;
  }

  h3 {
    font-size: 1.666666667em;
    line-height: 1.25;
    margin-bottom: 0;
    color: #666;
  }

  .sys-story-headline {
    font: normal 1.95em/1 $secondary-font;
    padding: .25em;
    background: transparent image-url("sys-headline-bg.png") no-repeat scroll top left;
    padding: 17px 0 30px 10px;
    margin-top: -45px;
    margin-left: -25px;
    & > span {
      display: block;
      @include transform(rotate(-2deg));
    }
  }

  .teach-logo {
    display: inline-block;
    color: white;
    padding: .25em .25em .15em;
    background-color: $primary-color;
  }

  .sys-story-subhead {
    font-size: 2em;
    margin-bottom: .667em;
  }


  img {
    background-color: white;
    padding: 4px;
    @include box-shadow(0 0 12px rgba(0,0,0,.5));
  }

  .sys-story-teacher-image-wrapper {
    position: relative;
    float: left;
    @media (min-width: 768px) {
      max-width: 45%;
      float: left;
    }
    margin-bottom: 1em; // use clearfix on the parent container
    @include transform(rotate(-2deg));

    &:before,
    &:after {
      content: " ";
      display: block;
      position: absolute;
      background: transparent none;
    }
    &:before {
      top: -15px;
      right: -39px;
      width: 113px;
      height: 62px;
      background-image: image-url("stupid-tape-2.png");
    }
    &:after {
      bottom: -25px;
      left: -15px;
      width: 61px;
      height: 129px;
      background-image: image-url("stupid-tape-1.png");
    }
  }
  .sys-story-teacher-image {
    display: block;
    width: 100% !important;
    height: auto !important;
  }

  .sys-story-user-image-wrapper {
    float: right;
    @include transform(rotate(2deg));
    margin-left: 1em;
    margin-bottom: 1em;
    position: relative; // 82x23
    &:before {
      content: " ";
      display: block;
      position: relative;
      top: 15px;
      left: 50%;
      margin-left: -41px;
      width: 82px;
      height: 23px;
      background: transparent image-url("sys-user-image-tape.png") scroll no-repeat center center;
    }

    img {
      display: block;
    }
  }

  .content {
    @media (min-width: 768px) {
      margin-left: 50%;
    }
  }

  p {
    margin: 0 0 1em;
    line-height: 1.5;
    color: #666;
  }

}