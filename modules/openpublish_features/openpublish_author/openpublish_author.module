<?php

/*
 * Implementation of hook_form_alter to hide certain default phase2_profile fields
 */

function openpublish_author_form_alter(&$form, &$form_state, $form_id){
  
  //@todo figure out why 'value' doesn't hide the element
  if (isset($form['#bundle'])  &&  $form['#bundle'] == 'profile'){
    if ($form['#form_id'] == 'profile_node_form' ) {
      $form['field_profile_address']['#type'] = 'hidden';
      $form['field_profile_phone']['#type'] = 'hidden';
      $form['field_profile_organization']['#type'] = 'hidden';
    } elseif ($form['#form_id'] == 'field_ui_field_overview_form') {
      unset($form['fields']['field_profile_address']);
      unset($form['fields']['field_profile_phone']);
      unset($form['fields']['field_profile_organization']);
    }
  }
}


